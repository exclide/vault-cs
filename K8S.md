Кластер К8 - хотя бы одна мастер нода (control plane) и множество нод (узлов, воркер нод). На воркер нодах лежат наши контейнеры в подах. В продакшене нужно хотя бы две мастер ноды, иначе при отказе одной отказывает весь кластер.

Нода (worker node) состоит из:
kubelet - процесс, с помощью которого общаются ноды в кластере, а также с помощью которого создаются контейнере на нодах


Мастер нода (control plane) состоит из следующих процессов:
**apiserver** - публичный интерфейс для клиентов для взаимодействия с кластером
**controller-manager** - следит за состоянием кластера, нужно ли что-то починить, перезапустить контейнер итп
**scheduler** - планирование, на какую ноду разместить контейнер, в зависимости от нагрузки
**etcd** - распределенная бд KV-storage всех данных кластера. Все конфиги и все данные нод и контейнерво в этих нодах. 

Virtual Network - единая сеть для всех нод, чтобы могли коммуницировать

### Компоненты кластера
Нода (worker node) - виртуальная или физическая машина.
Под (pod) - абстракция над контейнерами, чтобы можно было работать не только с докером. 
Сервис - статический пермаментный IP-адрес для подов, чтобы под сохранял один адрес даже после отказа, а также load balancer - выбирает на какую именно ноду идет запрос
Ingress - роутит внешние запросы на конкретный адрес сервиса пода
Config-map - конфиг файл с URL бд итп.
Secret - как конфиг мап, только для секретной инфы, логин-паролей зашифрованных
Volume - как в докере, маппинг хранилища данных на под, данные могут быть как на самой ноде, так и внешние - не из К8s кластера
Deployment - создает новые поды и реплики из заданного описания подов, абстракция над подом. (blueprint, схема для создания)
StatefulSet - как deployment, только для создания, репликации stateFUL приложений, наприер БД. Сложно, поэтому обычно БД находятся вне К8 кластера.

